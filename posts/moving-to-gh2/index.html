<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Moving to GitHub Pages, Pt.2 - Æ Software</title><meta name=Description content="Andreas Eisele, IT Consultant, Software Architect, Software Developer"><meta property="og:title" content="Moving to GitHub Pages, Pt.2"><meta property="og:description" content="Further on Hosting Stuff with GitHub Pages Let&rsquo;s repeat my ToDo list of the last blog post here and see where we are:
 create blog locally add content setup github pages add github action to auto deploy update DNS zone enable comments enable share links add meaningful content  Not too bad? But how did we arrive here?
Hosting under custom domain In theory that&rsquo;s quite easy. Once you have GitHub Pages set up your page will already be available as username."><meta property="og:type" content="article"><meta property="og:url" content="https://www.andreaseisele.com/posts/moving-to-gh2/"><meta property="og:image" content="https://www.andreaseisele.com/massimo-botturi-zFYUsLk_50Y-unsplash-cut.jpg"><meta property="article:published_time" content="2020-08-06T15:49:20+02:00"><meta property="article:modified_time" content="2020-08-06T17:03:39+02:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.andreaseisele.com/massimo-botturi-zFYUsLk_50Y-unsplash-cut.jpg"><meta name=twitter:title content="Moving to GitHub Pages, Pt.2"><meta name=twitter:description content="Further on Hosting Stuff with GitHub Pages Let&rsquo;s repeat my ToDo list of the last blog post here and see where we are:
 create blog locally add content setup github pages add github action to auto deploy update DNS zone enable comments enable share links add meaningful content  Not too bad? But how did we arrive here?
Hosting under custom domain In theory that&rsquo;s quite easy. Once you have GitHub Pages set up your page will already be available as username."><meta name=application-name content="Æ Software"><meta name=apple-mobile-web-app-title content="Æ Software"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://www.andreaseisele.com/posts/moving-to-gh2/><link rel=prev href=https://www.andreaseisele.com/posts/moving-to-gh/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Moving to GitHub Pages, Pt.2","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.andreaseisele.com\/posts\/moving-to-gh2\/"},"image":[{"@type":"ImageObject","url":"https:\/\/www.andreaseisele.com\/posts\/moving-to-gh2\/massimo-botturi-zFYUsLk_50Y-unsplash-cut.jpg","width":640,"height":273}],"genre":"posts","keywords":"dns, static content, hosting, github","wordcount":763,"url":"https:\/\/www.andreaseisele.com\/posts\/moving-to-gh2\/","datePublished":"2020-08-06T15:49:20+02:00","dateModified":"2020-08-06T17:03:39+02:00","publisher":{"@type":"Organization","name":"Andreas Eisele"},"author":{"@type":"Person","name":"Andreas Eisele"},"description":""}</script></head><body header-desktop header-mobile><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':('dark'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'dark'==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Æ Software"><span class=header-title-pre><span class=ae-logo>Æ </span><span class=ae-logo-caps>S</span><span class=ae-logo>oftware</span></span></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item language" title="Select Language">English<i class="fas fa-chevron-right fa-fw"></i>
<select class=language-select id=language-select-desktop onchange="location=this.value;"><option value=/posts/moving-to-gh2/ selected>English</option></select>
</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Æ Software"><span class=header-title-pre><span class=ae-logo>Æ </span><span class=ae-logo-caps>S</span><span class=ae-logo>oftware</span></span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/>Posts</a><a class=menu-item href=/tags/>Tags</a><a class=menu-item href=/categories/>Categories</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a><a href=javascript:void(0); class=menu-item title="Select Language">English<i class="fas fa-chevron-right fa-fw"></i>
<select class=language-select onchange="location=this.value;"><option value=/posts/moving-to-gh2/ selected>English</option></select></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">Moving to GitHub Pages, Pt.2</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>Andreas Eisele</a></span>&nbsp;<span class=post-category>included in <a href=/categories/personal/><i class="far fa-folder fa-fw"></i>personal</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2020-08-06>2020-08-06</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;763 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;4 minutes&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/posts/moving-to-gh2/massimo-botturi-zFYUsLk_50Y-unsplash-cut.jpg data-srcset="/posts/moving-to-gh2/massimo-botturi-zFYUsLk_50Y-unsplash-cut.jpg, /posts/moving-to-gh2/massimo-botturi-zFYUsLk_50Y-unsplash-cut.jpg 1.5x, /posts/moving-to-gh2/massimo-botturi-zFYUsLk_50Y-unsplash-cut.jpg 2x" data-sizes=auto alt=/posts/moving-to-gh2/massimo-botturi-zFYUsLk_50Y-unsplash-cut.jpg title=/posts/moving-to-gh2/massimo-botturi-zFYUsLk_50Y-unsplash-cut.jpg></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#further-on-hosting-stuff-with-github-pages>Further on Hosting Stuff with GitHub Pages</a><ul><li><a href=#hosting-under-custom-domain>Hosting under custom domain</a></li><li><a href=#enabling-https>Enabling HTTPS</a></li><li><a href=#enabling-comments>Enabling Comments</a></li><li><a href=#enabling-social-sharing>Enabling (Social) Sharing</a></li></ul></li></ul></nav></div></div><div class=content id=content><h2 id=further-on-hosting-stuff-with-github-pages>Further on Hosting Stuff with GitHub Pages</h2><p>Let&rsquo;s repeat my ToDo list of the last <a href=../moving-to-gh rel>blog post</a> here and see where we are:</p><ul><li><i class="far fa-check-square fa-fw"></i>create blog locally</li><li><i class="far fa-check-square fa-fw"></i>add content</li><li><i class="far fa-check-square fa-fw"></i>setup github pages</li><li><i class="far fa-check-square fa-fw"></i>add github action to auto deploy</li><li><i class="far fa-check-square fa-fw"></i>update DNS zone</li><li><i class="far fa-check-square fa-fw"></i>enable comments</li><li><i class="far fa-check-square fa-fw"></i>enable share links</li><li><i class="far fa-square fa-fw"></i><strong>add meaningful content</strong></li></ul><p>Not too bad? But how did we arrive here?</p><h3 id=hosting-under-custom-domain>Hosting under custom domain</h3><p>In theory that&rsquo;s quite easy. Once you have <em>GitHub Pages</em> set up your page will already be available as <code>username.github.io</code>.
Nothing wrong with that, but I wanted it to act as my main homepage at the same time. This means convincing <em>GitHub</em> to
recognize and accept requests for this host (<code>andreaseisele.com</code>) and to provide the content in the appropriate repo.</p><p>Two things need to be in place for this to work. A static file called <i class="far fa-file-alt"></i>&nbsp;<code>CNAME</code> must be created in the
git repository. This file needs to hold the custom domain (think <code>www.example.com</code>). There is a settings UI on <em>GitHub</em>
itself to create this but in my case I had to let <em>Hugo</em> supply the file in the deployment. Therefore it needs to be
created in the static folder.</p><p>Next is updating the <em>DNS Zone</em> of the domain in question. This of course varies depending on the <em>DNS Provider</em> but
what needs to be done is this:</p><ul><li>have the so called <em>apex</em> / root domain (<code>example.com</code>) point to GitHub&rsquo;s IP addresses</li><li>add a CNAME record for the www subdomain (<code>www.example.com</code>) pointing to <code>username.github.io</code></li></ul><p>There is a wonderful <a href=https://stackoverflow.com/a/9123911 target=_blank rel="noopener noreffer">answer</a> on <i class="fab fa-stack-overflow"></i>&nbsp;Stackoverflow going into all the necessary details and background info.</p><p>Your zone should look something like this in the end:</p><table><thead><tr><th>Name</th><th>Type</th><th>Target</th></tr></thead><tbody><tr><td>example.com</td><td>A</td><td>185.199.108.153</td></tr><tr><td>example.com</td><td>A</td><td>185.199.109.153</td></tr><tr><td>example.com</td><td>A</td><td>185.199.110.153</td></tr><tr><td>example.com</td><td>A</td><td>185.199.111.153</td></tr><tr><td>www.example.com</td><td>CNAME</td><td><em>username</em>.github.io</td></tr></tbody></table><div class="details admonition warning open"><div class="details-summary admonition-title"><i class="icon fas fa-exclamation-triangle fa-fw"></i>Warning<i class="details-icon fas fa-angle-right fa-fw"></i></div><div class=details-content><div class=admonition-content>The IP addresses mentioned above might change over time. Please refer to <em>GitHub</em>&rsquo;s documentation for updates.</div></div></div><h3 id=enabling-https>Enabling HTTPS</h3><p>It turns out this step is easy. If everything is set up correctly, especially the <em>DNS</em> stuff, all one needs to do is
to enable a setting in the repository config. Notice how it picked up the custom domain setting right out of the static <em>CNAME</em> file.</p><figure><a class=lightgallery href=/posts/moving-to-gh2/gh-pages-https.PNG title=/posts/moving-to-gh2/gh-pages-https.PNG data-thumbnail=/posts/moving-to-gh2/gh-pages-https.PNG data-sub-html="<h2>GitHub Pages repository config for HTTPS</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=gh-pages-https.PNG data-srcset="/posts/moving-to-gh2/gh-pages-https.PNG, gh-pages-https.PNG 1.5x, /posts/moving-to-gh2/gh-pages-https.PNG 2x" data-sizes=auto alt=/posts/moving-to-gh2/gh-pages-https.PNG></a><figcaption class=image-caption>GitHub Pages repository config for HTTPS</figcaption></figure><p>This in turn will use <a href=https://letsencrypt.org/ target=_blank rel="noopener noreffer">Let&rsquo;s Encrypt</a> behind the covers to generate a new certificate for the
custom domain. There is even a progress bar on this page initially for one to check the certificate status.</p><p>I went through some hiccups to get this to work for my site because of a combination of <em>DNS</em> TTL / cache inconveniences
and me missconfiguring my initial <em>CNAME</em> record.</p><h3 id=enabling-comments>Enabling Comments</h3><p>Luckily the <a href=https://hugoloveit.com/ target=_blank rel="noopener noreffer">theme</a> I&rsquo;m using has support for various comment engines. Initially I&rsquo;d decided to
not enable comments at all because I didn&rsquo;t want to store user input on my side and / or propagate it to third parties.
So services like <a href=https://disqus.com/ target=_blank rel="noopener noreffer">Disqus</a> or <a href=https://www.commento.io/ target=_blank rel="noopener noreffer">Commento</a> are out of the picture.</p><p>Still while browsing the configuration options available I came upon something interesting named <a href=https://utteranc.es/ target=_blank rel="noopener noreffer">Utterances</a>.
It works as a combination of something called a <em>GitHub App</em>, a bot service and some <em>JavaScript</em> to be used on the target
page. The actual comments are stored as <em>GitHub Issues</em> with a custom tag on a <em>GitHub</em> repository one has to provide.</p><p>I&rsquo;ve enabled <em>utterances</em> in my global site configuration like this:</p><div class=highlight><pre class=chroma><code class=language-toml data-lang=toml><span class=p>[</span><span class=nx>params</span><span class=p>.</span><span class=nx>page</span><span class=p>.</span><span class=nx>comment</span><span class=p>]</span>
    <span class=nx>enable</span> <span class=p>=</span> <span class=kc>true</span>

        <span class=p>[</span><span class=nx>params</span><span class=p>.</span><span class=nx>page</span><span class=p>.</span><span class=nx>comment</span><span class=p>.</span><span class=nx>utterances</span><span class=p>]</span>
            <span class=nx>enable</span> <span class=p>=</span> <span class=kc>true</span>
            <span class=nx>repo</span> <span class=p>=</span> <span class=s2>&#34;aeisele/andreaseisele.com-comments&#34;</span>
            <span class=nx>issueTerm</span> <span class=p>=</span> <span class=s2>&#34;pathname&#34;</span>
            <span class=nx>label</span> <span class=p>=</span> <span class=s2>&#34;blog-comment&#34;</span>
            <span class=nx>lightTheme</span> <span class=p>=</span> <span class=s2>&#34;github-light&#34;</span>
            <span class=nx>darkTheme</span> <span class=p>=</span> <span class=s2>&#34;github-dark&#34;</span>
</code></pre></div><p>If everything works according to plan you should be able to see a comments form right under this post. 🤞</p><p>The problem is this will apply to all content. I&rsquo;m really not keen on comments on my legal disclaimer pages, so one needs
to disable the global config again on static pages via the frontmatter like this:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=k>comment</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>enable</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>    </span><span class=k>utterances</span><span class=p>:</span><span class=w>
</span><span class=w>        </span><span class=k>enable</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></code></pre></div><div class="details admonition tip open"><div class="details-summary admonition-title"><i class="icon fas fa-lightbulb fa-fw"></i>Tip<i class="details-icon fas fa-angle-right fa-fw"></i></div><div class=details-content><div class=admonition-content>The <em>LoveIt</em> theme doesn&rsquo;t enable dynamic content, like comments, when running in <em>development</em> mode. To check whether the
comment section is rendered or not one has to run <code>hugo --minify</code> locally and examin the generated html in question manually.</div></div></div><h3 id=enabling-social-sharing>Enabling (Social) Sharing</h3><p>Again in my <a href=../blogging-with-hugo rel>first post</a> I said I don&rsquo;t really understand the necessity of social share buttons.
Then again I figured it doesn&rsquo;t hurt to provide it nevertheless. This was really easy to do via configuration:</p><div class=highlight><pre class=chroma><code class=language-toml data-lang=toml><span class=p>[</span><span class=nx>params</span><span class=p>.</span><span class=nx>page</span><span class=p>.</span><span class=nx>share</span><span class=p>]</span>
    <span class=nx>enable</span> <span class=p>=</span> <span class=kc>true</span>
    <span class=nx>Twitter</span> <span class=p>=</span> <span class=kc>true</span>
    <span class=nx>LinkedIn</span> <span class=p>=</span> <span class=kc>true</span>
    <span class=nx>HackerNews</span> <span class=p>=</span> <span class=kc>true</span>
    <span class=nx>Reddit</span> <span class=p>=</span> <span class=kc>true</span>
    <span class=nx>Xing</span> <span class=p>=</span> <span class=kc>true</span>
</code></pre></div><p>Technically this theme supports a lot more sharing options but I limited it to sites I use myself. You will not find
a <em>Facebook</em> button on my blog. 😎</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2020-08-06</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://www.andreaseisele.com/posts/moving-to-gh2/ data-title="Moving to GitHub Pages, Pt.2" data-via=ae____ data-hashtags="dns,static content,hosting,github"><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://www.andreaseisele.com/posts/moving-to-gh2/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://www.andreaseisele.com/posts/moving-to-gh2/ data-title="Moving to GitHub Pages, Pt.2"><i class="fab fa-hacker-news fa-fw"></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=https://www.andreaseisele.com/posts/moving-to-gh2/><i class="fab fa-reddit fa-fw"></i></a><a href=javascript:void(0); title="Share on Xing" data-sharer=xing data-url=https://www.andreaseisele.com/posts/moving-to-gh2/ data-title="Moving to GitHub Pages, Pt.2"><i class="fab fa-xing fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/dns/>dns</a>,&nbsp;<a href=/tags/static-content/>static content</a>,&nbsp;<a href=/tags/hosting/>hosting</a>,&nbsp;<a href=/tags/github/>github</a></section><section><span><a href=javascript:void(0); onclick=window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/moving-to-gh/ class=prev rel=prev title="Moving to GitHub Pages"><i class="fas fa-angle-left fa-fw"></i>Moving to GitHub Pages</a></div></div><div id=comments><div id=utterances></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://utteranc.es/>Utterances</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><a href=/legal>Legal</a>&nbsp;|&nbsp;<a href=/gdpr>Privacy</a></div><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.74.3">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i>LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2020</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>Andreas Eisele</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/lib/lightgallery/lightgallery.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/lightgallery/lightgallery.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-thumbnail.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-zoom.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript src=/lib/cookieconsent/cookieconsent.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"blog-comment","lightTheme":"github-light","repo":"aeisele/andreaseisele.com-comments"}},"cookieconsent":{"content":{"dismiss":"Got it!","link":"Learn more","message":"This website uses Cookies to improve your experience."},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true}};</script><script type=text/javascript src=/js/theme.min.js></script></body></html>